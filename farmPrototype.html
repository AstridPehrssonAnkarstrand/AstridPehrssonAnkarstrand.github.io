<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Astrid PA - Farm Prototype</title>
    <link rel="stylesheet" href="projectStyle.css">
    <script type="text/javascript" src="app.js" defer></script>
    <script src="https://kit.fontawesome.com/ccef3511e1.js" crossorigin="anonymous"></script>
</head>
<body>
    <nav>
        <a href="index.html" class="logo"><img src="images/Logo.png" width="344" height="50"> </a>
        <ul id="navbar">
            <li><i class="fa-solid fa-xmark button close" onclick="CloseNavbar()" aria-label="close sidebar"></i></li>
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html#about">About</a></li>
            <li><a class="accent" href="index.html#projects">Projects</a></li>
            <li><a href="index.html#contact">Contact</a></li>
        </ul>
        <i class="fa-solid fa-bars button open" onclick="OpenNavbar()" aria-label="open sidebar"></i>
    </nav>

    <div id="overlay" onclick="CloseNavbar()" aria-hidden="true"></div>

    <main>
        <div class="header farm-prototype">
            <h1 style="position: relative; top: 50%; left: 50%; transform: translate(-50%, -50%);">Farm Prototype</h1>
        </div>

        <div id="summary">
            <div class="container">
                <div class="list">
                    <div class="summary-item">
                        <h5>My Role(s)</h5>
                        <p>
                            Solo developer,
                            Technical Design, UI/ UX Design
                        </p>
                    </div>
                    <div class="summary-item">
                        <h5>Tools</h5>
                        <p>
                            Unreal Engine 5, Figma, Miro, Github
                        </p>
                    </div>

                    <div class="summary-item">
                        <h5>Time</h5>
                        <p>
                            4 weeks
                        </p>
                    </div>
                    <div class="summary-item">
                        <h5>Team size</h5>
                        <p>
                            Solo
                        </p>
                    </div>
                </div>
                <div class="divide-line"></div>
                <br>
                <div>
                    <p>
                        A <span>prototype</span> exploring <span>farming & resource management systems</span>.
                        <br>
                        I got to tackle a lot of UI and interacting systems.
                        Made for a System Design course at Futuregames.
                    </p>
                    <br>
                    <h6>Prototype Features</h6>
                    <ul>
                        <li><p>Inventory system</p></li>
                        <li><p>Level progression system</p></li>
                        <li><p>Fortune wheel</p></li>
                        <li><p>Farming system</p></li>
                        <li><p>Build system</p></li>
                        <li><p>Automation with AI helpers</p></li>
                        <li><p>Upgrade system for the AI</p></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="header farm-prototype">
            <h1 style="position: relative; top: 50%; left: 50%; transform: translate(-50%, -50%);">DETAILS</h1>
        </div>

        <!-- Technical Design -->
        <div class="wrapper-main">

            <!-- Tile types -->
            <div class="wrapper outer">
                <h2 style="text-align:center;">Tile types</h2>
                <div class="divide-line"></div>
                <br>
                <p>
                    I used <span>inheritance</span> for the tiles and created a <span>base tile</span> blueprint class that <span>implements</span> a <span>Interact interface</span>.
                </p>

                <br><br>

                <div class="container">
                    <div class="item">
                        <ul>
                            <li>
                                <p><span>Crop Tile:</span> Grows a crop overtime, requiring water.</p>
                                <ul>
                                    <li><p>Interact to water or harvest.</p></li>
                                </ul>
                            </li>
                            <li>
                                <p><span>Well Tile:</span> Contains unlimited water.</p>
                                <ul>
                                    <li><p>Interact provides water.</p></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div class="item">
                        <ul>
                            <li>
                                <p><span>Storage Tile:</span> Can store items.</p>
                                <ul>
                                    <li><p>Interact toggles showing the storages inventory menu.</p></li>
                                </ul>
                            </li>
                            <li>
                                <p><span>Market Tile:</span> Sell items.</p>
                                <ul>
                                    <li><p>Interact toggles the market menu.</p></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div class="item">
                        <ul>
                            <li>
                                <p><span>Factory Tile:</span> Turns crops into processed items.</p>
                                <ul>
                                    <li><p>Interact to harvest or toggles the inventory menu to submit crop.</p></li>
                                </ul>
                            </li>
                            <li>
                                <p><span>AI Spawn Tile:</span> Spawns an AI helper.</p>
                                <ul>
                                    <li><p>Interact toggles the upgrade menu.</p></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>


                <!--<br><br>
                <h3 style="text-align:center;">AI Spawn Tile & Upgrade</h3>-->
            </div>

            <!-- Inventory system -->
            <div class="wrapper outer">
                <h2 style="text-align:center;">Inventory System</h2>
                <div class="divide-line"></div>
                <br>
                <p>
                    Used an actor component for the Inventory so it can be reused by any actor.
                    The UI has <span>drag and drop</span> functionality to move and combind item stacks.
                </p>
                <br>
                <img src="images/farmprototype/farm_InventoryDragAndDrop.gif" width="1010" height="715" class="center">

            </div>

            <div class="wrapper outer">
                <h2 style="text-align:center;">Building System</h2>
                <div class="divide-line"></div>
                <br>
                <p style="text-align:center;">
                    The build selection increased based on level.
                </p>
                <br>
                <img src="images/farmprototype/farm_BuildingShowcase.gif" width="1104" height="713" class="center">
            </div>

            <!-- Leveling system -->
            <div class="wrapper outer">
                <h2 style="text-align:center;">Leveling System</h2>
                <div class="divide-line"></div>

                <div class="wrapper">
                    <h3 style="text-align:center;">Fortune Wheel</h3>
                    <p>
                        I tried recreating a mechanic from a childhood game I played a lot, Nordgame.
                        A fortune wheel that gave exp on win. The wheel had a firm list of 6 items that you supplied to increase your chance of winning.
                        For my version, I decided to scale the amount of items needed based on level.
                    </p>
                    <br><br>

                    <!--<img src="images/farmprototype/farm_Wheel1.gif" width="520" height="680" class="center">-->

                    <div class="container">
                        <div class="item">
                            <img src="images/farmprototype/farm_Wheel2.gif" width="394" height="516" class="center">
                        </div>
                        <div class="item">
                            <p>
                                To make the wheel spin and slow down I used a <span>float curve</span> as <span>alpha</span> to <span>lerp the rotation speed multiplier</span> until it reached 0.
                                <br><br>
                                To make the slot it landed on random, I made multiple curves, a random range for the spin duration and the starting speed multiplier.
                            </p>
                        </div>
                    </div>

                    <br><br>
                    <div class="divide-line"></div>
                    <br><br>
                    <h4 style="text-align:center;">Wheel content</h4>
                    <p>
                        The wheels first and middle slot are always predetermined, but the items slots aren't. I had a couple iterations how I handled deciding the item slots.
                    </p>
                    <br>
                    <div class="container">
                        <div class="item">
                            <h5>Full control</h5>
                            <p>
                                First iteration I designed each wheel in a data table. This gave consistency and a lot of control over the progression and difficulty, but was very time consuming.
                            </p>
                        </div>
                        <div class="item">
                            <h5>No control</h5>
                            <p>Second iteration I used an item pool array containing all the unlocked items. The wheel would be filled with random items from the pool. This was quick but very inconsistent.</p>
                        </div>
                    </div>

                    <br>
                    <p>
                        What I ended up with was a mixture of both. I kept the item pool, but made a data table that determines what items should be in the potential pool.
                        This gave me enough control to specify what items should be possible on each level. I could also increase or decrease the chance of those items by entering more or less copies of it.
                    </p>

                </div>
            </div>


            <!-- AI -->
            <div class="wrapper outer">
                <h2 style="text-align:center;">AI helpers</h2>
                <br>
                <p>
                    A fun part of farming and resource management games is <span>automating tasks</span> so production can scale up.
                    I decided on some AI helpers that automate different parts of the game.
                </p>
                <ul>
                    <li><p><span>Waterer AI: </span>Waters crop tiles</p></li>
                    <li><p><span>Harvester AI: </span>Harvests crop tiles</p></li>
                    <li><p><span>Processor AI: </span> Supplier Factory tiles with items to processes</p></li>
                </ul>

                <br>
                <p>
                    I use a simple <span>state machine</span> for the AI. As they share the same overarching states, I utilize <span>inheritance</span> and made a base AI class with the core loop.
                </p>

                <br>
                <div class="divide-line"></div>

                <br><br>
                <div class="container">
                    <div class="item">
                        <h4>Base AI</h4>
                        <p>
                            The AI have a <span>primary</span> and a <span>secondary objective</span>.
                            If neither can be run, the AI moves home.
                        </p>
                        <br><br>

                        <h6>Primary Objective:</h6>
                        <p>
                            Performed when the AI's specified criteria is fulfilled.
                            <br><br>
                            When setting target; the <span>AI marks</span> the <span>target tile</span> as <span>taken</span> so other <span>AI:s ignore it</span>.
                        </p>

                        <br><br>

                        <h6>Secondary Objective:</h6>
                        <p>
                            Performed when the criteria can't be fulfilled in order to fulfill the criteria.
                        </p>
                    </div>
                    <div class="item">
                        <img src="images/farmprototype/farm_Flow_BaseAI.jpg" width="863" height="450">
                    </div>
                </div>

                <!--<div class="container">
            <div class="item">
                <img src="images/farmprototype/farm_Flow_WateringAI.jpg" width="863" height="450">
            </div>
            <div class="item">
                <h4>Watering AI</h4>
                <p>

                </p>
            </div>
        </div>-->

                <br><br>
                <div class="divide-line"></div>
                <br><br>

                <div class="container">
                    <div class="item">
                        <img src="images/farmprototype/farm_EarlyAI.gif" width="1275" height="715">
                    </div>
                    <div class="item">
                        <h4>Early progress</h4>
                        <p>
                            I made the Watering and Harvesting AI first.
                            <br><br>
                            To simplify <span>debugging</span> I added <span>text</span> to display the <span>AI:s current target</span> and <span>resource count</span>. The tiles also got text to display their state.
                        </p>
                    </div>
                </div>

                <br><br>
                <div class="divide-line"></div>
                <br><br>

                <div class="container">
                    <div class="item">
                        <h4>Adjustments</h4>
                        <ul>
                            <li><p>Nerfed their movement speed.</p></li>
                            <li><p>A <span>diegetic indicator</span> on the mesh for their resource count.</p></li>
                        </ul>
                    </div>
                    <div class="item">
                        <img src="images/farmprototype/farm_LaterAI.gif" width="973" height="604">
                    </div>
                </div>

                <br><br>
                <div class="divide-line"></div>
                <br><br>

                <div class="container">
                    <div class="item">
                        <img src="images/farmprototype/farm_VisualClarity.gif" width="1022" height="662">
                    </div>
                    <div class="item">
                        <h4>Test</h4>
                        <p>
                            Larger testing scenario.
                            <br><br>
                            Problem; lack of <span>visual clarity</span> because <span>overlapping text</span>.
                            To solve it I hide the AI:s text and moved the tile text so it's laying flat against the mesh.
                        </p>
                    </div>
                </div>

                <br><br>
                <div class="divide-line"></div>
                <br><br>

                <h4 style="text-align:center;">Processing AI</h4>
                <br>
                <img src="images/farmprototype/farm_ProcessorAI.gif" width="605" height="597" class="center">
            </div>


        </div>

        <div class="header farm-prototype">
            <h1 style="position: relative; top: 50%; left: 50%; transform: translate(-50%, -50%);">TAKE AWAYS</h1>
        </div>

        <div class="wrapper-main">
            <div class="wrapper outer">
                <h2>Technical designer</h2>
                <br>
                <ul>
                    <li><p>Utlized actor components for the games system, makes getting references a lot easy.</p></li>
                    <li><p>Learned to make a solid inventory system.</p></li>
                    <li><p>Implementing a simple debug menu.</p></li>
                    <li><p>Learned about Drag and drop.</p></li>
                </ul>
            </div>
        </div>


    </main>

    <footer id="contact">
        <div class="container-footer">
            <div class="row-footer">
                <div class="col-footer">
                    <h4>Contact Me</h4>
                    <ul>
                        <li><p><i class="fa-solid fa-envelope"></i> astrid.pehrsson_ankarstrand@hotmail.com</p></li>
                        <li><p><i class="fa-solid fa-phone"></i> (+46) 073-630 51 53</p></li>
                        <li><p><i class="fa-solid fa-location-dot"></i> Stockholm, Sweden</p></li>
                    </ul>
                </div>
                <div class="col-footer">
                    <h4>Project Links</h4>
                    <ul>
                        <li><a class="accent" href="index.html#projects">All Projects</a></li>
                        <li><a href="projectLayout.html">Vampower</a></li>
                        <li><a href="fearOfTheLight.html">Fear of the Light</a></li>
                        <li><a href="chatPrototype.html">Chat Prototype</a></li>
                        <li><a href="catFished.html">Catfished</a></li>
                        <!--<li><a href="kingMockup.html">Mobile Game Menu Mockup</a></li>-->
                    </ul>
                </div>
                <div class="col-footer">
                    <h4>Social Links</h4>
                    <div class="social-links">
                        <a target="_blank" href="https://www.linkedin.com/in/astrid-pehrsson-ankarstrand-2a9680223/"><i class="fa-brands fa-linkedin"></i></a>
                        <a target="_blank" href="https://astridpehrssonankarstrand.artstation.com"><i class="fa-brands fa-artstation"></i></a>
                    </div>
                </div>

            </div>
        </div>
    </footer>

</body>
</html>