<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Astrid PA - Chat Prototype</title>
    <link rel="stylesheet" href="projectStyle.css">
    <script type="text/javascript" src="app.js" defer></script>
    <script src="https://kit.fontawesome.com/ccef3511e1.js" crossorigin="anonymous"></script>
</head>
<body>
    <nav>
        <a href="index.html" class="logo"><img src="images/Logo.png" width="344" height="50"> </a>
        <ul id="navbar">
            <li><i class="fa-solid fa-xmark button close" onclick="CloseNavbar()" aria-label="close sidebar"></i></li>
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html#about">About</a></li>
            <li><a class="accent" href="index.html#projects">Projects</a></li>
            <li><a href="index.html#contact">Contact</a></li>
        </ul>
        <i class="fa-solid fa-bars button open" onclick="OpenNavbar()" aria-label="open sidebar"></i>
    </nav>

    <div id="overlay" onclick="CloseNavbar()" aria-hidden="true"></div>

    <main>

        <div class="header chat-prototype">
            <!--<img src="images/vampower/Vampower_Title.png" alt="Vampower Title text" width="748" height="150">-->
            <h1 style="position: relative; top: 50%; left: 50%; transform: translate(-50%, -50%);">Chat Prototype</h1>
        </div>

        <div style="max-width: 50%;" class="center">
            <div class="outerVideoWrapper">
                <div class="videoWrapper">
                    <iframe width="720" height="405" src="https://www.youtube.com/embed/5-Kd7oZkdxY?si=mUWz6Sm2-pIScdaV"
                            title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                            referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                </div>
            </div>
        </div>

        <!--<h2>Accordion with symbols</h2>
    <p>In this example we have added a "plus" sign to each button. When the user clicks on the button, the "plus" sign is replaced with a "minus" sign.</p>
    <button class="accordion">Section 1</button>
    <div class="panel">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>

        <button class="accordion">Section 1</button>
        <div class="panel">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        </div>
    </div>-->

        <div id="summary">
            <div class="container">
                <!--<div class="item" style="flex: 0.35">
            <h5>My Role(s)</h5>
            <p>-->
                <!--Solo developer,-->
                <!--Solo, Technical Design, UI/ UX Design
                </p>
                <br>
                <h5>Tools</h5>
                <p>
                    Unreal Engine 5, Figma, Miro, Github, Google Sheets
                </p>
                <br>
                <h5>Time</h5>
                <p>
                    2 weeks
                </p>
                <br>
                <h5>Team size</h5>
                <p>
                    Solo
                </p>
            </div>-->
                <!--<div class="item" style="flex: 100%">
                <h6>Prototype Features</h6>
                <ul>
                    <li><p>Dialogue system</p></li>
                    <li><p>Game content read from Data tables made from CSV-files</p></li>
                    <li><p>Text parser that handles branching storypaths</p></li>
                    <li><p>System can handle multiple chat conversations at once</p></li>
                    <li><p>UI portraying a mobile chatting app</p></li>
                </ul>
            </div>-->

                <div class="item">
                    <!--<h1>Chat Prototype</h1>-->
                    <div class="list">
                        <div class="summary-item">
                            <h5>My Role(s)</h5>
                            <p>
                                Solo developer,
                                Solo, Technical Design, UI/ UX Design
                            </p>
                        </div>
                        <div class="summary-item">
                            <h5>Tools</h5>
                            <p>
                                Unreal Engine 5, Figma, Miro, Github, Google Sheets
                            </p>
                        </div>

                        <div class="summary-item">
                            <h5>Time</h5>
                            <p>
                                2 weeks
                            </p>
                        </div>
                        <div class="summary-item">
                            <h5>Team size</h5>
                            <p>
                                Solo
                            </p>
                        </div>
                    </div>
                    <div class="divide-line"></div>
                    <div>
                        <p>
                            A short <span>prototype</span> exploring <span>storytelling</span> through <span>chat conversations</span>.
                            Made for an Advanced Visual Scripting course at Futuregames. Game concept inspired by my side project.
                            <!--<br><br>

                        I created a dialogue system that gets its content from data tables and parses it into chat messages.
                        The parser can handle branching choices and the system can handle multiple chat rooms at the same time.
                        Content can be written then imported into the game engine using CSV-files.
                        <br><br>

                        Learned a lot of best practices regarding visual scripting and project structure.-->
                        </p>
                        <br>
                        <h6>Prototype Features</h6>
                        <ul>
                            <li><p>Dialogue system</p></li>
                            <li><p>Game content read from Data tables made from CSV-files</p></li>
                            <li><p>Text parser that handles branching storypaths</p></li>
                            <li><p>System can handle multiple chat conversations at once</p></li>
                            <li><p>UI portraying a mobile chatting app</p></li>
                        </ul>
                    </div>
                </div>


                <!--<div class="summary-gamelink">
                <h3>Play the game!</h3>
                <a target="_blank" href="https://futuregames.itch.io/vampower" class="btn"><h6>Itch.io Page</h6></a>
            </div>-->
            </div>
        </div>




        <div class="header chat-prototype-2">
            <h1 style="position: relative; top: 50%; left: 50%; transform: translate(-50%, -50%);" class="text-gradient">TECHNICAL DESIGN</h1>
        </div>

        <!-- Technical Design -->
        <div class="wrapper">
            <!-- Dialogue System -->
            <div class="wrapper">
                <h3 style="text-align:center;">Dialogue System</h3>
                <p>

                </p>
                <br><br>
                <div class="container">
                    <div class="item">
                        <img src="images/chatprototype/Chat_ContentLoop.jpg" width="1021" height="382" class="center">
                    </div>
                    <div class="item">
                        <h6>GameMode</h6>
                        <p>
                            Responsible for handling the games content.
                        </p>
                        <br>
                        <h6>WBP_Window</h6>
                        <p>
                            Holds multiple WBP_Chatroom referenced. Responsible for creating them and updating them with content. Also handles which chatroom to show.
                        </p>
                        <br>
                        <h6>WBP_Chatroom</h6>
                        <p>
                            Displays the content and handles player dialogue input.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Game Mode -->
            <div class="wrapper bg1">
                <h3 style="text-align:center;">Game Mode</h3>
                <br><br>
                <p>
                    I use a custom GameMode class to handle the games content as it's easily reached and the lack of replication isn't an issue in a single player game.
                    It has all two actor components, one that contains the data and the other for parsing it.
                </p>
                <img src="images/chatprototype/Chat_GameModeComponents.jpg" width="810" height="270" class="center">
            </div>

            <!-- Data/ content structure -->
            <div class="wrapper">
                <h4 style="text-align:center;">Data/ Content structure</h4>
                <br>
                <p>
                    All the games content comes from <span>Data tables</span> that I manually <span>imported</span> as <span>CSV-files</span> into <span>Unreal Engine</span>.
                    The game has <span>2 content types</span>; <span>story</span> and <span>dialogue</span>.
                </p>

                <!-- Story content -->
                <div class="wrapper">
                    <h5 style="text-align:center;">Story content</h5>
                    <p>
                        The story content is a data table with references to the ChatroomID and dialogue content. All case sensitive.
                    </p>
                    <br>

                    <div class="container">
                        <div class="item">
                            <img src="images/chatprototype/Chat_StoryDataTable.png" width="1089" height="338" alt="Story Data table" class="center">
                        </div>
                        <div class="item">
                            <!--<h6>Syntax explanation</h6>-->
                            <p>
                                <span><b>Command: </b></span>
                                The command type. Chatroom-command adds dialogue to a chatroom.
                            </p>
                            <br>
                            <p>
                                <span><b>Data: </b></span>
                                <!--Different for each command-type.--> For the Chatroom-command; ChatroomID is required, if it's a new chatroom a CategoryID is also required divided by "|".
                            </p>
                            <br>
                            <p>
                                <span><b>DialogueDataTable: </b></span>
                                The file path to the dialogue content.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Dialogue content -->
                <div class="wrapper">
                    <h5 style="text-align:center;">Dialogue content</h5>
                    <p>
                        The dialogue content is also a data table, <span>one data table per conversation</span>, where a <span>row represents one dialogue line</span>.
                        <br>
                        I used <span>Honkai: Stair Rail</span> as inspiration for the <span>dialogue formatting</span>, as I found it concise and readable.
                    </p>
                    <br>
                    <!-- OG size: 1464, 485 -->
                    <!--<img src="images/chatprototype/ChatProt_DialogueDataTable.png" width="1097" height="363" alt="Dialogue Data table showing the games first conversation." class="center">-->
                    <img src="images/chatprototype/Chat_DialogueDataTable.png" width="1040" height="428" alt="Dialogue Data table showing the games first conversation." class="center">
                    <br>
                    <h6>Syntax explanation</h6>
                    <div class="container" style="flex-wrap: wrap;">

                        <div class="item" style="flex: 100%">
                            <p>
                                <span><b>ID: </b></span>
                                Row name, must be unique.
                                <!--I used the element index but in an actual production a more advanced ID would be needed.-->
                            </p>
                        </div>
                        <div class="item" style="flex: 100%">
                            <p>
                                <span><b>Indent: </b></span>
                                Dialogue indentation level. Used after dialogue choice to branch the dialogue.
                            </p>
                        </div>
                        <div class="item">
                            <p>
                                <span><b>IsExtend: </b></span>
                                If same sender as previous message.
                                Determines the margin and whether to display the sender.
                            </p>
                        </div>
                        <div class="item" style="flex: 100%">
                            <p>
                                <span><b>Sender: </b></span>
                                Name of message sender, used as NameID to get the message material.
                                <br>
                                Player sent message uses syntax <b>(Me)</b>.
                                <br>
                                Player choice uses syntax <b>{Choice}</b>. By default the choice selected by the player will be sent as a message.
                                <br>
                                Player choice override default uses syntax <b>{Choice|True}</b>. Useful for summarizing a choice, then sending the actual messages.
                            </p>
                        </div>
                        <div class="item" style="flex: 100%">
                            <p>
                                <span><b>Dialogue: </b></span>
                                Dialogue line. Available styling is: italic, bold, emoji.
                                <br>
                                Note that style notations can’t be nested, the previous styling needs to be ended before starting a new one.
                                This is a limitation with how RichTextStyles work.
                                <!--<br>
                        Emojis use a different font so need to be wrapped with styling notation in order to be displayed properly. All emojis should however be possible.
                        Emoji styling has 3 versions, normal text size, font size 48, font size 68.
                        The latter two are only recommended when no text is used as the larger ones will increase the breadtexts fontsize, leaving unwanted gaps.-->
                            </p>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Widgets -->
            <div class="wrapper">
                <h3 style="text-align:center;">Widgets</h3>
                <br><br>

                <p>
                    I debated on how I should handle showing different chat histories and came up with two directions.
                </p>
                <br><br>
                <div class="container">
                    <div class="item">
                        <h6>
                            Singular Chatroom Widget
                        </h6>
                        <p>
                            One chatroom widget. Widget updates when swapping chatrooms.
                            <br>
                            Less widgets overall, improves performance.
                            <br>
                            Needs a system for storing and swapping chatroom content and state.
                        </p>
                    </div>
                    <div class="item">
                        <h6>
                            Multiple Chatroom Widgets
                        </h6>
                        <p>
                            One chatroom widget per chatroom. Widget is collapsed when not used.
                            <br>
                            More widgets but most will be collapsed so performance shouldn't be effect.
                            <br>
                            Can be updated with new content directly, stores it's own content and state.

                        </p>
                    </div>
                </div>

                <br><br>
                <p>
                    I went with the second approach as I felt it made the most sense for the scope.
                </p>
                <br><br>
                <h4 style="text-align:center;">Widget Hierarchy</h4>
                <br>
                <div class="container">
                    <div class="item">
                        <img src="images/chatprototype/Chat_WindowHierarchy.jpg" width="977" height="399" alt="Chat Gameplay" class="center">
                    </div>
                    <div class="item">
                        <p>
                            <span><b>WBP_Window: </b></span>
                            Holds references to <span>multiple Chatroom widgets</span> using their <span>unique ChatroomID</span>.
                        </p>
                        <br>
                        <p>
                            <span><b>WBP_BTN_Chatroom: </b></span>
                            Has a reference to what ChatroomID it belongs to.
                            Has a OnClick() event dispatcher that informs the WBP_Window to show a chatroom using the ChatroomID.
                        </p>
                    </div>
                </div>

                <br><br>

                <div class="container">
                    <div class="item">
                        <p>
                            <span><b>WBP_Chatroom: </b></span>
                            Handles creating new messages and logic for displaying choice buttons.
                        </p>
                        <br>
                        <p>
                            <span><b>WBP_Message: </b></span>
                            Takes a FMessage struct on construct and sets it's content based on it.
                        </p>
                        <br>
                        <p>
                            <span><b>WBP_BTN_Choice: </b></span>
                            Visibility set to collapse when not in use.
                            Has an OnClick event dispatcher that sends the FChoice struct the button has stored.
                        </p>
                    </div>
                    <div class="item">
                        <img src="images/chatprototype/Chat_ChatroomHierarchy.jpg" width="977" height="399" alt="Chat Gameplay" class="center">
                    </div>
                </div>
            </div>

            <!-- References without casting -->
            <div class="wrapper">
                <h3 style="text-align:center;">References without casting</h3>
                <br>
                <p>
                    During the course we learnt different ways to get references without casting.
                    The most used in my project is a combination of an <span>interface</span>
                    and a <span>blueprint function library</span> to get <span>references</span> to my <span>custom game mode</span> and <span>HUD class</span>.
                </p>
                <br>
                <img src="images/chatprototype/Chat_ReferenceInterface.jpg" width="1579" height="555" class="center">
            </div>

            <div class="header chat-prototype">
                <h1 style="position: relative; top: 50%; left: 50%; transform: translate(-50%, -50%);" class="text-gradient">UI/UX DESIGN</h1>
            </div>

        </div>
       

        <!-- UI/ UX Design -->
        <div class="wrapper">
            <!-- Figma Layout + Animation showcase-->
            <div class="wrapper">
                <h3 style="text-align:center;">Figma Layout</h3>
                <br>
                <img class="center" src="images/chatprototype/Mockup.png" width="348" height="651"
                     alt="Mobile chat UI layout in Figma">
                <br><br>
                <h3 style="text-align:center;">Animation showcase</h3>
                <br>
                <img src="images/ChatGame_Prog_04.gif" width="590" height="864" alt="Chat Gameplay" class="center">
            </div>

            <!-- Debug Menu -->
            <div class="wrapper bg1">
                <h3 style="text-align:center;">Debug menu</h3>
                <br><br>

                <div class="container">
                    <div class="item">
                        <p>
                            I created a debug menu to help <span>control</span> some of the game's <span>parameters</span>, like type speed, message delay, show animations.
                            <br><br>
                            I also added a button to skip forward in the story.
                            <br><br>
                            The debug menu helped make debugging the story and its branches a lot quicker.
                        </p>
                    </div>
                    <div class="item">
                        <div class="outerVideoWrapper">
                            <div class="videoWrapper">
                                <iframe width="720" height="405" src="https://www.youtube.com/embed/KSiKQ8HUA_M?si=gc-Lue0XjFsZu-Uh"
                                        title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        
        <!--<iframe width="768" height="432"
            src="https://miro.com/app/embed/uXjVL5hUvhw=/?pres=1&frameId=3458764610146073731&embedId=865046017667"
            frameborder="0" scrolling="no" allow="fullscreen; clipboard-read; clipboard-write" allowfullscreen>
    </iframe>-->

    </main>

    <footer id="contact">
        <div class="container-footer">
            <div class="row-footer">
                <div class="col-footer">
                    <h4>Contact Me</h4>
                    <ul>
                        <li><p><i class="fa-solid fa-envelope"></i> astrid.pehrsson_ankarstrand@hotmail.com</p></li>
                        <li><p><i class="fa-solid fa-phone"></i> (+46) 073-630 51 53</p></li>
                        <li><p><i class="fa-solid fa-location-dot"></i> Stockholm, Sweden</p></li>
                    </ul>
                </div>
                <div class="col-footer">
                    <h4>Project Links</h4>
                    <ul>
                        <li><a class="accent" href="index.html#projects">All Projects</a></li>
                        <li><a href="projectLayout.html">Vampower</a></li>
                        <li><a href="fearOfTheLight.html">Fear of the Light</a></li>
                        <li><a href="catFished.html">Catfished</a></li>
                        <li><a href="kingMockup.html">Mobile Game Menu Mockup</a></li>
                    </ul>
                </div>
                <div class="col-footer">
                    <h4>Social Links</h4>
                    <div class="social-links">
                        <a target="_blank" href="https://www.linkedin.com/in/astrid-pehrsson-ankarstrand-2a9680223/"><i class="fa-brands fa-linkedin"></i></a>
                        <a target="_blank" href="https://astridpehrssonankarstrand.artstation.com"><i class="fa-brands fa-artstation"></i></a>
                    </div>
                </div>

            </div>
        </div>
    </footer>

</body>
</html>
