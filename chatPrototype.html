<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Astrid PA - Chat Prototype</title>
    <link rel="stylesheet" href="projectStyle.css">
    <script type="text/javascript" src="app.js" defer></script>
    <script src="https://kit.fontawesome.com/ccef3511e1.js" crossorigin="anonymous"></script>
</head>
<body>
    <nav>
        <a href="index.html" class="logo"><img src="images/Logo.png" width="344" height="50"> </a>
        <ul id="navbar">
            <li><i class="fa-solid fa-xmark button close" onclick="CloseNavbar()" aria-label="close sidebar"></i></li>
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html#about">About</a></li>
            <li><a class="accent" href="index.html#projects">Projects</a></li>
            <li><a href="index.html#contact">Contact</a></li>
        </ul>
        <i class="fa-solid fa-bars button open" onclick="OpenNavbar()" aria-label="open sidebar"></i>
    </nav>

    <div id="overlay" onclick="CloseNavbar()" aria-hidden="true"></div>

    <main>
        <div class="header chat-prototype">
            <!--<img src="images/vampower/Vampower_Title.png" alt="Vampower Title text" width="748" height="150">-->
            <h1 style="position: relative; top: 50%; left: 50%; transform: translate(-50%, -50%);">Chat Prototype</h1>
        </div>

        <div id="summary">
            <div class="container">
                <div class="list">
                    <div class="summary-item">
                        <h5>My Role(s)</h5>
                        <p>
                            Solo developer
                        </p>
                    </div>
                    <div class="summary-item">
                        <h5>Tools</h5>
                        <p>
                            Unreal Engine 5, Figma, Miro, Github, Google Sheets
                        </p>
                    </div>

                    <div class="summary-item">
                        <h5>Time</h5>
                        <p>
                            Two weeks
                        </p>
                    </div>
                    <div class="summary-item">
                        <h5>Team size</h5>
                        <p>
                            Solo
                        </p>
                    </div>
                </div>
                <div class="divide-line"></div>
                <div>
                    <p>
                        A short prototype exploring storytelling through chat conversations.
                        Made for an Advanced Visual Scripting course at Futuregames. Game concept inspired by my side project.
                        <br><br>

                        I created a dialogue system that gets its content from data tables and parses it into chat messages.
                        The parser can handle branching choices and the system can handle multiple chat rooms at the same time.
                        Content can be written then imported into the game engine using CSV-files.
                        <br><br>

                        Learned a lot of best practices regarding visual scripting and project structure.
                    </p>
                </div>

                <!--<div class="summary-gamelink">
                    <h3>Play the game!</h3>
                    <a target="_blank" href="https://futuregames.itch.io/vampower" class="btn"><h6>Itch.io Page</h6></a>
                </div>-->
            </div>
        </div>

        <div class="wrapper bg1">
            <h3 style="text-align:center;">Video of the full game</h3>
            <br>
            <div class="outerVideoWrapper">
                <div class="videoWrapper">
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/5-Kd7oZkdxY?si=mUWz6Sm2-pIScdaV"
                            title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                            referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                </div>
            </div>
        </div>

        <div class="header chat-prototype-2">
            <h1 style="position: relative; top: 50%; left: 50%; transform: translate(-50%, -50%);" class="text-gradient">Development</h1>
        </div>

        <div class="wrapper bg2">
            <h3 style="text-align:center;">UI Layout</h3>
            <br><br>
            <div class="container">
                <div class="item" style="text-align: center;">
                    <h5>Layout in figma</h5>
                    <br>
                    <img src="images/chatprototype/Mockup.png" width="348" height="651"
                         alt="Mobile chat UI layout in Figma">
                    <!--<img src="images/chatprototype/Mockup_Small.png" width="232" height="434"
                    alt="Mobile chat UI layout in Figma">-->
                    <!--<img src="images/chatprototype/Mockup.png" width="464" height="868"
                    alt="Mobile chat UI layout in Figma">-->
                </div>
                <div class="item" style="text-align:center;">
                    <h5>Final version in engine</h5>
                    <br>
                    <!-- Og size 573, 869 -->
                    <img src="images/chatprototype/ChatProt.png" width="429" height="651"
                         alt="Final Mobile chat UI layout in Unreal Engine">
                </div>
            </div>
        </div>



        <div class="wrapper">
            <h3 style="text-align:center;">Data structure</h3>
            <br><br>
            <p>
                All the games content comes from Data tables that I manually imported as CSV- files into Unreal Engine.
                I sadly didn’t find an easy alternative to get the data automatically from a live Google Sheets document without a plugin or C++,
                which wasn’t allowed for the course.
                <br><br>
                The game has two types of content, the story skeleton and dialogue.
                The story skeleton is a data table that contains references to the dialogue content and dictates the order in which it is shown.
                The dialogue content is also a data table, one data table per conversation, where a row represents one dialogue line.
                For how a dialogue line is broken up I took inspiration from how Honkai: Stair Rail writes their dialogue, as I found it concise and readable.
            </p>
            <br><br>
            <!-- OG size: 1464, 485 -->
            <img src="images/chatprototype/ChatProt_DialogueDataTable.png" width="1097" height="363"
                 alt="Dialogue Data table showing the games first conversation." class="center">
            <br><br>
            <h4 style="text-align:center;">Dialogue data table syntax</h4>
            <br>
            <div class="container" style="flex-wrap: wrap;">
                <div class="item" style="flex: 100%">
                    <h6>ID:</h6>
                    <p>
                        Unreal Engine needs it for the row name, must be unique.
                        I used the element index but in an actual production a more advanced ID would be needed.
                    </p>
                </div>
                <div class="item" style="flex: 100%">
                    <h6>Indent:</h6>
                    <p>
                        Informs what level the story is at. Used after dialogue choice to branch the story.
                    </p>
                </div>
                <div class="item" style="flex: 100%">
                    <h6>IsExtend:</h6>
                    <p>
                        A bool that informs if the row is sent from the same sender as the previous one.
                        This determines the message's margin and whether to display the sender.
                    </p>
                </div>
                <div class="item" style="flex: 100%">
                    <h6>Sender:</h6>
                    <p>
                        Name that is displayed on the message, used as NameID to get the message material.
                        <br>
                        A message from the player should use the syntax (Me) instead.
                        <br>
                        If the player should be able to select a reply, the syntax is {Choice}. The choice selected by the player will be sent as a message by default.
                        <br>
                        The default can be overridden by using the syntax {Choice|True}. This could be useful for summarizing a choice and then sending the actual longer messages after.
                    </p>
                </div>
                <div class="item" style="flex: 100%">
                    <h6>Dialogue:</h6>
                    <p>
                        The actual dialogue. Can be styled. A line break can also be forced.
                        <br>
                        Currently implemented styling is: italic, bold, emoji.
                        <br>
                        For styling I use HTML formulation.
                        <br>
                        Note that style notations can’t be nested, you need to end the previous one before starting a new one.
                        This is an engine limitation with how RichTextStyles work.
                        <br>
                        Emojis use a different font so need to be wrapped with styling notation in order to be displayed properly. All emojis should however be possible.
                        Emoji styling has 3 versions, normal text size, font size 48, font size 68.
                        The latter two are only recommended when no text is used as the larger ones will increase the breadtexts fontsize, leaving unwanted gaps.
                    </p>
                </div>
            </div>
        </div>

        <div class="wrapper bg1">
            <h3 style="text-align:center;">Game Mode</h3>
            <br><br>
            <p>
                The game mode has all the story information. When prompted it tries to continue the dialogue, but if that’s not possible it will try to continue the story instead.
                To handle the story information the game mode has two actor components, one that contains the data and the other for parsing it.
                The parse component parses the data into the specified format. This does mean any actor could be managing the story,
                but I decided to use the game mode as it’s easily reached by other actors and I know the game is single player so the lack of replication isn’t an issue.
            </p>
            <br><br>
            <h4 style="text-align:center;">Interface + Function library</h4>
            <br>
            <p>
                During the course we learnt different ways to access references without casting.
                The most used in my project is a combination of an interface
                and a blueprint function library to get references to my custom game mode and HUD class.
            </p>
        </div>

        <div class="wrapper">
            <h3 style="text-align:center;">Widgets</h3>
            <br><br>
            <p>
                I have a main widget that holds a side menu and a container for the chatroom.
                <br>
                I debated on how I should structure the chatroom. I could have one chat room widget and change its contents based on which chat room is currently open,
                or have multiple chat rooms that are hidden when not in use.
                In the end I chose the second approach, that way the chatroom could handle itself and I wouldn't have to create systems for saving and reapplying different chatroom states and data.
                <br>
                The chatroom widget has a scrollable area containing messages and a container for choice buttons. The choice buttons are always there but set to collapsed when not used.
                The start and pause menu are in different widgets but renderer above the main widget. Also set to collapsed when not used.
            </p>

            <br><br>
            <h4 style="text-align:center;">Animation showcase</h4>
            <br><br>
            <img src="images/ChatGame_Prog_04.gif" width="590" height="864" alt="Chat Gameplay" class="center">
        </div>

        <div class="wrapper bg1">
            <h3 style="text-align:center;">Debug menu</h3>
            <br><br>
            <p>
                I created a debug menu to help control some of the game's parameters, like type speed, message delay, show animations.
                This made debugging the story and its branches a lot quicker.
            </p>
            <br>
            <div class="outerVideoWrapper">
                <div class="videoWrapper">
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/KSiKQ8HUA_M?si=gc-Lue0XjFsZu-Uh"
                            title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                            referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                </div>
            </div>
        </div>
        <!--<iframe width="768" height="432"
                src="https://miro.com/app/embed/uXjVL5hUvhw=/?pres=1&frameId=3458764610146073731&embedId=865046017667"
                frameborder="0" scrolling="no" allow="fullscreen; clipboard-read; clipboard-write" allowfullscreen>
        </iframe>-->

    </main>

    <footer id="contact">
        <div class="container-footer">
            <div class="row-footer">
                <div class="col-footer">
                    <h4>Contact Me</h4>
                    <ul>
                        <li><p><i class="fa-solid fa-envelope"></i> astrid.pehrsson_ankarstrand@hotmail.com</p></li>
                        <li><p><i class="fa-solid fa-phone"></i> (+46) 073-630 51 53</p></li>
                        <li><p><i class="fa-solid fa-location-dot"></i> Stockholm, Sweden</p></li>
                    </ul>
                </div>
                <div class="col-footer">
                    <h4>Project Links</h4>
                    <ul>
                        <li><a class="accent" href="index.html#projects">All Projects</a></li>
                        <li><a href="projectLayout.html">Vampower</a></li>
                        <li><a href="fearOfTheLight.html">Fear of the Light</a></li>
                        <li><a href="catFished.html">Catfished</a></li>
                        <li><a href="kingMockup.html">Mobile Game Menu Mockup</a></li>
                    </ul>
                </div>
                <div class="col-footer">
                    <h4>Social Links</h4>
                    <div class="social-links">
                        <a target="_blank" href="https://www.linkedin.com/in/astrid-pehrsson-ankarstrand-2a9680223/"><i class="fa-brands fa-linkedin"></i></a>
                        <a target="_blank" href="https://astridpehrssonankarstrand.artstation.com"><i class="fa-brands fa-artstation"></i></a>
                    </div>
                </div>

            </div>
        </div>
    </footer>

</body>
</html>
