<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Vampower - Astrid Pehrsson Ankarstrand | Tech & UI/UX Designer</title>
    <link rel="stylesheet" href="projectStyle.css">
    <script type="text/javascript" src="app.js" defer></script>
    <script src="https://kit.fontawesome.com/ccef3511e1.js" crossorigin="anonymous"></script>
</head>
<body>
    <nav>
        <a href="index.html" class="logo">
            <h5>
                ASTRID PEHRSSON ANKARSTRAND
            </h5>
            <h6>| TECHNICAL & UI/UX DESIGNER</h6>
        </a>
        <ul id="navbar">
            <li><i class="fa-solid fa-xmark button close" onclick="CloseNavbar()" aria-label="close sidebar"></i></li>
            <li><a href="index.html" onclick="CloseNavbar()">PROJECTS</a></li>
            <li><a href="resume.html" onclick="CloseNavbar()">RESUME</a></li>
            <li><a href="about.html" onclick="CloseNavbar()">ABOUT ME</a></li>
            <li><a href="contact.html" onclick="CloseNavbar()">CONTACT</a></li>
        </ul>
        <i class="fa-solid fa-bars button open" onclick="OpenNavbar()" aria-label="open sidebar"></i>
    </nav>

    <div id="overlay" onclick="CloseNavbar()" aria-hidden="true"></div>

    <div id="modal" class="modal no-display">
        <img id="modal-img" src="images/gradproj/gradproj_radial.gif">
    </div>

    <main>
        <div class="header vampower">
            <img class="center" src="images/vampower/Vampower_Title.png" alt="Vampower Title text" width="748" height="150">
            <br><br><br>
            <h1 style="text-align:center;">TECHNICAL DESIGN</h1>
        </div>

        <!-- Tech + System -->
        <div class="fairway">
            <!-- Pre-production -->
            <div>
                <h2 class="margin-bottom-small">PRE-PRODUCTION</h2>
                <p>
                    <span>2 weeks</span> of pre-production to explore <span>3 game concepts</span> and develop a <span>playable prototype</span> for each one.
                    First half of the week went to concepting and roughly planning out the different concepts.
                    The rest was split up into <span>2 days of development time</span> per prototype.
                </p>
                <div class="divide-line"></div>
            </div>

            <div class="wrapper outer">
                

                <!-- Health system -->
                <div>
                    <div class="two-column-layout">
                        <div>
                            <h3 class="margin-bottom-small">HEALTH SYSTEM</h3>
                            <p>
                                I created a <span>versatile health system</span> in blueprints that was <span>reused</span> for all the prototypes, <span>saving on development time</span> to work on other features.
                                <br><br>
                                To test the health system, I made a <span>target dummy</span> with the health system properly implemented with a <span>health bar</span> to visualize the current health.
                                <br><br>
                                To deal damage I made an <span>attack actor component</span> that can be applied to any actor and a <span>turret that shoots projectiles</span>.
                            </p>
                        </div>
                        <div>
                            <img src="images/vampower/Vampower_Preprod_Healthsystem.gif" alt="Gif showcasing health system">
                        </div>

                    </div>
                </div>

                <div class="divide-line"></div>

                <!-- Vampower Prototype -->
                <div>
                    <div class="two-column-layout">
                        <div>
                            <h3 class="margin-bottom-small">VAMPOWER'S PROTOTYPE</h3>
                            <p>
                                The prototype focused on <span>testing the core mechanics</span> of defending a central point from waves of enemies during daytime and building up defenses during nighttime.
                            </p>
                            <br><br>
                            <p><b>PROTOTYPE FEATURES:</b></p>
                            <ul>
                                <li><p>Simple <span>enemies</span> that target either the player or the central point (the heart).</p></li>
                                <li><p>An enemy spawner that <span>spawns an increasing number</span> of enemies per wave.</p></li>
                                <li><p>Structures, 2 different types.</p></li>
                                <li><p>Actor with the <span>attack actor component</span>.</p></li>
                                <li><p><span>Turret actor</span> that shoots projectiles at closest enemy.</p></li>
                                <li><p>The player can <span>interact</span> with structures to activate them.</p></li>
                                <li><p>Day & night cycle.</p></li>
                            </ul>
                        </div>
                        <div>
                            <img src="images/vampower/Vampower_Pre-production.gif" alt="Gif showcasing gameplay from Vampower's prototype">
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="divide-line"></div>

            <!-- Production -->
            <div class="margin-top-large">
                <h2 class="margin-bottom-small">PRODUCTION</h2>
                <p>
                    <span>4 weeks</span> to create the finished game.
                </p>
                <div class="divide-line"></div>
            </div>

            <!-- Units -->
            <div class="wrapper outer">
                <div>
                    <h3>UNITS</h3>
                    <div class="divide-line"></div>
                    <p>
                        For the prototype we'd utilized <span>inheritance</span> for the units, since all of them would need to have health logic.
                        It worked great for the prototype so we used it for the actual game as well.
                    </p>

                    <br><br>

                    <div class="two-column-layout">
                        <div>
                            <img src="images/vampower/Vampower_UnitInheritance.jpg">
                        </div>
                        <div>
                            <p>Classes in <span>C++</span> which blueprint inherits from. </p>
                            <br>
                            <p>
                                The Ally and Enemy Base distinction was needed for targeting.
                            </p>
                            <br>
                            <p>
                                Units get their stats from a data table on Begin play.
                            </p>
                        </div>
                    </div>
                </div>


                <div class="divide-line"></div>

                <h4 class="margin-bottom-small">PLAYER</h4>
                <p>
                    The player has <span>three classes</span>, each class with a set of <span>base stats</span> and <span>starting weapon</span>.
                    The <span>weapons</span> have the same class types and are <span>designed to synergize</span> best with the <span>same class</span> but still work with the other classes.
                </p>
                <br>

                <img src="images/vampower/Vampower_Classes.jpg">

                <div class="divide-line"></div>
                <!-- Enemy Spawning -->
                <div>
                    <h3 class="margin-bottom-small">ENEMY SPAWNING</h3>
                    <p>
                        I made 2 blueprint classes, the BP_SpawnManager and BP_Spawner.
                        The SpawnManager listens to events from the day/night system to know when to start spawning and the day count to get spawn data.
                        The SpawnManager then gives the spawn data to the needed spawners and tell them to start spawning.
                    </p>
                    <br>
                    <img src="images/vampower/Vampower_SpawnerFlow.jpg">

                    <div class="divide-line"></div>

                    <p>
                        The enemy spawning does not utilize <span>object pooling</span> so the later days, 10 and up, do start impacting performance negatively.
                        If the team were to publish the game properly, I'd work on implementing object pooling.
                    </p>

                    <div class="divide-line"></div>
                    <h4 class="margin-bottom-small">WAVE DATA</h4>
                    <p>
                        For us designers to have full control of each wave, I made a data table to specify; where to spawn, what to spawn, the amount to spawn, the delay until next spawn.
                        Each data table row contains the spawn content for 1 day. The data table is built using 3 structs.
                    </p>

                    <br>

                    <div class="list" style="text-align: center;">
                        <div class="item">
                            <h5>WaveInfo</h5>
                            <ul style="display: inline-block; text-align: left;">
                                <li><p>An array of SpawnerInfo</p></li>
                            </ul>
                        </div>
                        <div class="item">
                            <h5>SpawnerInfo</h5>
                            <ul style="display: inline-block; text-align: left;">
                                <li><p>Spawner Index</p></li>
                                <li><p>An array of EnemySpawnInfo</p></li>
                            </ul>
                        </div>
                        <div class="item">
                            <h5>EnemySpawnInfo</h5>
                            <ul style="display: inline-block; text-align: left;">
                                <li><p>Enemy class</p></li>
                                <li><p>Spawn Amount</p></li>
                                <li><p>Delay Until Next Spawn</p></li>
                            </ul>
                        </div>
                    </div>

                    <img src="images/vampower/Vampower_WaveInfo.png" class="center">

                </div>
            </div>
            

            <div class="divide-line"></div>
            <!-- HUD-class -->
            <div class="wrapper outer">
                <h3>HUD-CLASS</h3>
                <div class="divide-line"></div>
                <p>
                    For this project I tried a new approach for managing widgets. I decided to use the HUD-class to <span>create</span> and <span>handle</span> all the <span>widgets</span>.
                    <br><br>
                    I really like this approach, as it centralizes everything UI related in one place,
                    making it easier to manage and for others to work around.
                    For information other systems needed from the UI,
                    I created <span>event dispatchers</span> that the widgets trigger.
                    Example: when an upgrade is purchased from the shop widget, the player blueprint listens to the event dispatcher so it can apply the needed changes.
                    <br><br>
                    Another new approach I tried for this project was to <span>keep gameplay logic out of the widgets</span>.
                    The widgets should only <span>display given data</span> and <span>forward button inputs</span>.
                    When button input is received the widget fires an <span>event dispatcher</span> so the <span>HUD-class can handle it</span>.
                </p>
            </div>

            <div class="divide-line"></div>
            <!-- Build Structure -->
            <div class="wrapper outer">
                <h3>BUILD STRUCTURE</h3>
                <div class="divide-line"></div>
                <div class="two-column-layout">
                    <div>
                        <p>
                            I began with planning out the build interaction from start to finish.
                        </p>
                        <br>
                        <p><b>INTERACT STEPS:</b></p>
                        <ul>
                            <li><p>Player walks up to resource node</p></li>
                            <li><p>Player presses Interact key</p></li>
                            <li><p>Build menu opens</p></li>
                            <li><p>Player selects the structure they wish to build</p></li>
                            <li><p>Build menu closes</p></li>
                            <li><p>Selected structure is built, replacing the resource node</p></li>
                        </ul>
                    </div>
                    <img src="images/vampower/Vampower_BuildMenuFlow.jpg">
                </div>
                <div class="divide-line"></div>
                <div class="two-column-layout">
                    <div>
                        <h4 class="margin-bottom-small">FIRST ITERATION</h4>
                        <p><b>MAIN PROBLEM:</b></p>
                        <p>
                            Having to walk close to a resource node in order to interact with it felt both tedious and time consuming, and didn't add anything meaningful.
                        </p>
                        <br>
                        <p>
                            For the final version I <span>changed</span> the <span>interact input</span> to use <span>mouse positon and input</span> instead.
                        </p>
                    </div>
                    <div>
                        <img src="images/vampower/Vampower_BuildMenuEarlyInteraction.gif">
                    </div>

                </div>

                <!--<div class="divide-line"></div>

    <h4>DATA STRUCTURE</h4>
    <p>
        The UI gets its data from a <span>data table</span>.
    </p>
    <br>
    <h5>Data table struct</h5>
    <ul style="display: inline-block; text-align: left;">
        <li><p>Spawn class reference</p></li>
        <li><p>Structure name</p></li>
        <li><p>Description</p></li>
        <li><p>Cost</p></li>
    </ul>
    <br><br>
    <p style="text-align: left;">
        9 total structures were planned but not all got completed before the deadline. The UI requires 9 items so instead of deleting the structures I kept them but made the cost impossible to get.
    </p>-->

                <div class="divide-line"></div>

                <div>
                    <h4 class="margin-bottom-small">NOTABLE BUGS</h4>
                    <div class="two-column-layout">
                        <div>
                            <p class="margin-bottom-small"><b>1. DELAYED INTERACT AFTER PURCHASE</b></p>
                            <p>
                                <span>After building a structure</span> there was a noticeable <span>delay before</span> you could <span>interact with another node</span>.
                                After debugging I still couldn't figure it out, so I ended up rewriting how the click interact works in hopes of fixing it, but the delay was still there. As it wasn't game breaking I had to leave it.
                                <br><br>
                                I ended up accidentally <span>solving</span> it when I was fixing a similar hover bug, but over UI weapon icons on the HUD.
                                Turns out it had to do with <span>changing Input mode when exiting menus</span>.
                                Previously I just set it to <span>Input Mode Game Only</span> whenever exiting a menu but <span>using Input Mode UI And Game</span> instead just… <span>solved it</span>. Good to know. :)
                            </p>
                        </div>
                        <div>
                            <p class="margin-bottom-small"><b>2. CLICK INCONSISTENCY</b></p>
                            <p>
                                There was a lot of <span>inconsistency</span> with clicking on the <span>resource node</span>. This led to some <span>frustration and confusion from play testers</span>.
                                <br>
                                The <span>reason</span> for this inconsistency was <span>other objects blocking the raycast</span> from the cursor.
                                <br>
                                When rewriting the click interact, I <span>added a object channel for Interact</span>, which helped reduce the inconsistency.
                            </p>
                        </div>
                    </div>

                    <br><br>

                </div>

                <div class="divide-line"></div>

                <h4 class="margin-bottom-small">IMPROVED PLAYER FEEDBACK</h4>
                <div class="two-column-layout">
                    <div>
                        <p>
                            To improve the user experience, I added more <span>feedback to the players actions</span>. I <span>swap the cursor icon</span> and add a <span>hover effect</span> on the resource node by changing the material.
                            This makes the resource nodes feel more like <span>buttons</span> and helps <span>inform that the player should click on it</span>.
                            <br><br>
                            The resource nodes were sometimes <span>missed</span> so I very subtly added <span>animated arrows</span> pointing at the resource nodes.
                            <br><br>
                            The hover effects and arrows are <span>only active during nighttime</span> when they are interactable.
                        </p>
                    </div>
                    <div>
                        <img src="images/vampower/Vampower_BuildClick.gif">
                    </div>
                </div>

            </div>

            <div class="divide-line"></div>

            <!-- Upgrade shop -->
            <div class="wrapper outer">
                <h3>UPGRADE SHOP</h3>
                <div class="divide-line"></div>
                <p>
                    I began with planning out the upgrade shop interaction from start to finish.
                </p>
                <br>
                <div class="two-column-layout">
                    <img src="images/vampower/Vampower_UpgradeFlow_1.jpg">
                    <img src="images/vampower/Vampower_PurchaseCardLogic.jpg" class="center">
                </div>


                <div class="divide-line"></div>

                <div class="two-column-layout">
                    <div>
                        <h4 class="margin-bottom-small">FIRST ITERATION</h4>
                        <p>
                            The core functionality working; <span>reroll buttons</span> updates the shop, <span>locking/ unlocking</span> cards work, and purchase hides them.
                            <br><br>
                            At this stage no real data is used for the cards and currency isn't taken into consideration. Focus is getting the UI interaction in place so it can be play tested.
                        </p>
                    </div>
                    <div>
                        <img src="images/vampower/Vampower_UpgradeShop_EarlyIteration.gif">
                    </div>
                </div>

                <div class="divide-line"></div>

                <div>
                    <h4 class="margin-bottom-small">SHOP DATA</h4>
                    <p>
                        For the shop I have <span>2 data tables</span>. One for the stat upgrade cards and one for the weapons.
                        I made this distinction because the weapons need more data. During runtime the HUD-class makes upgrade card structs out of the weapon data table.
                    </p>

                    <br><br>

                    <div class="two-column-layout">
                        <div>
                            <img src="images/vampower/Vampower_Shop_CardStruct.png">
                        </div>
                        <div>
                            <p><b>CARD STRUCT:</b></p>
                            <p>
                                Struct is used for the UI and for applying upgrades to the player stats.
                            </p>
                            <br>
                            <ul>
                                <li><p><span>Description:</span> Only used to convey information for the widget, needs to be manually updated to match the actual modified value.</p></li>
                                <li><p><span>Modifier:</span> A C++ struct with multipliers for all the stats. Data is used to apply the stat upgrades.</p></li>
                            </ul>
                        </div>
                    </div>

                    <br><br>

                    <div class="two-column-layout">
                        <div>
                            <p><b>WEAPON STRUCT:</b></p>
                            <ul>
                                <li><p><span>Short Description:</span> Used by the card widget when the weapon is not owned.</p></li>
                                <li><p><span>Long Description:</span> Used on the weapon tooltip.</p></li>
                                <li><p><span>Upgrade Description array:</span> Description text for all the levels. Which one is used is determined by the weapons upgrade level.</p></li>
                            </ul>
                        </div>
                        <div>
                            <img src="images/vampower/Vampower_Shop_WeaponStruct.png">
                        </div>
                    </div>
                </div>


                <div class="divide-line"></div>

                <div>
                    <h4 class="margin-bottom-small">SHOP REROLL</h4>
                    <p>
                        The shop gets rerolled automatically at the start of the night. The player can also decide to reroll the shop with currency.
                        <br>
                        <span>Weapon cards</span> have a <span>lower chance</span> of appearing.
                    </p>
                    <br>
                    <div class="two-column-layout">
                        <div>
                            <img src="images/vampower/Vampower_RerollShopLogic.jpg">
                        </div>
                        <div>
                            <p><b>DUPLICATE CARDS:</b></p>
                            <p>
                                The <span>current cards</span> are <span>not considered</span> when <span>checking for duplicates</span>.
                            </p>
                            <br>
                            <p><b>UPGRADE SHOP:</b></p>
                            <p>
                                When updating the cards, <span>locked cards</span> get <span>skipped</span> and therefore keep their old data. This does mean there is still a <span>chance for duplicates</span>.
                            </p>
                            <br>
                            <P><b>ITEM POOL:</b></P>
                            <p>
                                Contains all potential items that can appear in the store.
                                <!--I have a pool of potential items, it contains all the stat cards. The weapon cards have critera for being in the item pool. They are changed based on their upgrade level. If they're fully maxed they're removed from the pool completely.-->
                            </p>
                            <p>This includes:</p>
                            <ul>
                                <li><p>All stat cards</p></li>
                                <li>
                                    <p>A version of each weapon if it's</p>
                                    <ul>
                                        <li><p>not owned by the player</p></li>
                                        <li><p>not max upgrade level</p></li>
                                    </ul>
                                </li>
                            </ul>

                        </div>

                    </div>
                </div>

            </div>

            <div class="divide-line"></div>

            <div class="wrapper outer">
                <h3>GAME BALANCE</h3>
                <div class="divide-line"></div>
                <p>
                    Scaling is a big part of any survival-like game. As the player gets stronger, resources get sparser and enemies tougher or increase in amount.
                    Balancing numbers in a spreadsheet is not quite my expertise or interest but I did try keeping scaling in mind when designing the games systems.
                </p>
                <br>
                <ul>
                    <li><p><span>Upgrade shop reroll  cost</span> increases with each use.</p></li>
                    <li>
                        <p><span>Weapon card cost</span> scale based on:</p>
                        <ul>
                            <li><p>Total owned weapon count.</p></li>
                            <li><p>Weapon upgrade level.</p></li>
                        </ul>
                    </li>
                    <li><p><span>Enemies' health and damage</span> scale with day count.</p></li>
                    <li><p><span>Enemy amount</span> increases each day.</p></li>
                </ul>

                <div class="divide-line"></div>
                <p>
                    Unfortunately, the games <span>current balance</span> is <span>broken</span>. Especially the economy. Not surprising though, I did only get time to spend on it during the night before the final playtest trying to fix it.
                </p>
                <br>
                <div class="container">
                    <div class="item">
                        <p><b>PROBLEM:</b></p>
                        <p>
                            The <span>player</span> gets <span>too much money too early</span>, so they end up purchasing everything.
                        </p>
                    </div>
                    <div class="item">
                        <p><b>CONSEQUENCES:</b></p>
                        <ul>
                            <li><p><span>Strategi:</span> The player no longer needs to manage their resources. There is no choosing between two great options but only being able to afford one.</p></li>
                            <li><p><span>Overpowered:</span> The player becomes too strong, they no longer feel threatened by the enemies. In the long run, less stakes makes the combat less engaging and less fun.</p></li>
                        </ul>
                    </div>
                    <div class="item">
                        <p><b>SOLUTION:</b></p>
                        <ul>
                            <li><p><span>Currency: </span>Decrease the amount of currency the player gets.</p></li>
                            <li><p><span>Enemy: </span>Increase enemy health and/ or damage stats.</p></li>
                            <li><p><span>Cost: </span>Increase cost of upgrades and structures.</p></li>
                        </ul>
                    </div>
                </div>

                <div class="divide-line"></div>

                <h4 class="margin-bottom-small">WEAPON SCALING</h4>
                <p>
                    Since the weapons are so impactful- buying one should require a fair bit of investment.
                    My <span>goal</span> was to <span>limit</span> the <span>player</span> to EITHER <span>invest horizontally</span> with <span>a lot of weapons</span> OR <span>vertically</span> with <span>few well upgraded weapons</span>.
                    The <span>player</span> should <span>NOT</span> be able to <span>buy most weapons AND heavily upgrade them</span>.
                </p>

            </div>


        </div>

    </main>

    <footer id="contact">
        <div class="container-footer">
            <div class="row-footer">
                <div class="col-footer">
                    <h4>Contact Me</h4>
                    <ul>
                        <li><p><i class="fa-solid fa-envelope"></i> astrid.pehrsson_ankarstrand@hotmail.com</p></li>
                        <li><p><i class="fa-solid fa-phone"></i> (+46) 073-630 51 53</p></li>
                        <li><p><i class="fa-solid fa-location-dot"></i> Stockholm, Sweden</p></li>
                    </ul>
                </div>
                <div class="col-footer">
                    <h4>Project Links</h4>
                    <ul>
                        <li><a href="index.html">All Projects</a></li>
                        <li><a href="equinox.html">Equinox: Homecoming</a></li>
                        <li><a href="projectLayout.html">Vampower</a></li>
                        <li><a href="fearOfTheLight.html">Fear of the Light</a></li>
                        <li><a href="gradProj.html">Graduation Project</a></li>
                        <li><a href="chatPrototype.html">Chat Prototype</a></li>
                        <li><a href="farmPrototype.html">Farm Prototype</a></li>
                        <li><a href="catFished.html">Catfished</a></li>
                    </ul>
                </div>
                <div class="col-footer">
                    <h4>Social Links</h4>
                    <div class="social-links">
                        <a target="_blank" href="https://www.linkedin.com/in/astrid-pehrsson-ankarstrand-2a9680223/"><i class="fa-brands fa-linkedin"></i></a>
                        <a target="_blank" href="https://astridpehrssonankarstrand.artstation.com"><i class="fa-brands fa-artstation"></i></a>
                    </div>
                </div>

            </div>
        </div>
    </footer>
</body>
</html>